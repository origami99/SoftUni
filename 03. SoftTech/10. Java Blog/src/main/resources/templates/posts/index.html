<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout :: site-head">
    <title>Posts</title>
</head>


<body>
<header th:replace="layout :: site-header" />


<main id="posts">
    <!--/*@thymesVar id="allPosts" type="blog"*/-->
    <table class="postsTable">
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Content</th>
            <th>Date</th>
            <th>Author</th>
            <th>Action</th>
        </tr>
    <tr th:each="p : ${allPosts}">
        <td th:text="${p.id}">Post ID</td>
        <td th:text="${p.title}">Post Title</td>
        <td th:utext="${p.body}">Post content</td>
        <td th:text="${#dates.format(p.date, 'dd-MM-yyyy')}">22-May-2016</td>
        <span th:if="${p.author}">
        <td th:text="${p.author.fullName}">Svetlin Nakov</td>

            </span>
        <span th:if="${p.author==null}">
        <td >unknown</td>

            </span>
        <td>
            <a th:href="@{/posts/view/{id}/(id=${p.id})}">View</a>
            <a th:href="@{/posts/edit/{id}/(id=${p.id})}">Edit</a>
            <a th:href="@{/posts/delete/{id}/(id=${p.id})}">Delete</a>
        </td>
        </tr>
    </table>
</main>

<footer th:replace="layout :: site-footer" />

</body>

</html>
